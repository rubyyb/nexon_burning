<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메이플 버닝이벤트 모작</title>
    <link rel="stylesheet" href="css/index.css">
    <script src="lib/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        $(function(){
            // menu_open을 클릭 했을 때
            // active가 붙어서 이미지 변경 / gnb_opne가 display:block이 되도록
            let meunOpen = $('.menu_open');
            let gnbOpen = $('.gnb_open');

            meunOpen.click(function() {
                if (meunOpen.hasClass('active')) {
                    meunOpen.removeClass('active');
                    meunOpen.animate({ right: '221px' }, 800); 
                    gnbOpen.animate({ left: '-221px' }, 500, function() {
                        gnbOpen.css('display', 'none');
                    });
                } else {
                    meunOpen.addClass('active');
                    meunOpen.animate({ right: '0' }, 500);
                    gnbOpen.css('display',   'block').animate({ left: '0' }, 500);
                }
                console.log('I am Groot!');
            });/* meunOpen 클릭 했을 시 이벤트 종료 */

            // depth01를 클릭 했을 시 alert 창이 뜨도록
            // alert창 문구 -> 0번과 1번 -> 이벤트 기간이 지났습니다.
            //                 2번 -> 아무것도 안뜨게
            //                 3번 -> 이벤트 기간이 아닙니다.
            $('.depth01').each(function(index) {
                $(this).click(function() {
                    if (index === 0 || index === 1) {
                        alert('이벤트 기간이 지났습니다.');
                    } else if (index == 3) {
                        alert('이벤트 기간이 아닙니다.');
                    } else {

                    }
                });
            });

            // 화면이 접속 됨과 동시에 애니메이션 진행
            // gsap.from을 사용해서 진행하면 좋을듯
            gsap.from("#burning_page", {
                opacity: 0
            });
            gsap.from(".title_01", {
                opacity: 0,
                y: -1000,
                scale: 3,
                ease: "elastic.out(0.4)", // 애니메이션 끝날 시 반동 효과
                delay: 0.8
            });

            gsap.from(".title_02", {
                opacity: 0,
                y: 1000,
                scale: 3,
                ease: "elastic.out(0.4)",
                delay: 0.8
            });

            gsap.from(".event_ttl", {
                opacity: 0,
                y: 1000,
                scale: 3,
                ease: "elastic.out(0.4)",
                delay: 0.8
            });

            gsap.from(".ttl_02", {
                opacity: 0,
                y: -100,
                delay: 1
            });// 버닝이벤트 애니메이션 종료

            gsap.from(".color_card>div", {
                opacity: 0,
                y: 300,
                rotateY: -360,
                duration: 1,
                ease: "elastic.out(0.2)"
            })

            gsap.to(".stone01", {
                y: -30,
                x: -10,
                yoyo: true,
                repeat: -1,
                ease: "none",
                duration: 1
            }),
            gsap.to(".stone02", {
                y: 30,
                x: 10,
                yoyo: true,
                repeat: -1,
                ease: "none",
                duration: 1
            }),
            gsap.to(".stone03", {
                y: 30,
                x: 10,
                yoyo: true,
                repeat: -1,
                ease: "none",
                duration: 1
            }),
            gsap.to(".stone04", {
                y: -30,
                x: 10,
                yoyo: true,
                repeat: -1,
                ease: "none",
                duration: 1
            })

            particlesJS("particles-js", {
                "particles": {
                    "number": {
                        "value": 50, // 파티클 개수 value가 200이면 200개
                        "density": { // 밀도 설정
                            "enable": true, // 밀도 설정 활성화
                            "value_area": 8000
                            // 배치되는 영역 크기 -> 단위 : px2(픽셀제곱) 
                            // 이 값이 클수록 동일한 파티클 수가 더 넓게 분포 됨
                        }
                    },
                    "color": {
                        "value": "#fdd007" // 파티클 색상
                    },
                    "shape": { // 모양
                        "type": "circle", // 원으로 설정 다른 모양도 가능
                        "stroke": {// 테두리 설 
                            "width": 0, // 테두리 두께
                        },
                        "polygon": {
                            "nb_sides": 3 //다각형의 변의 수 
                            // 3이면 삼각형 , 4면 사각형, 5면 오각형
                        },
                        "image": { // 파티클이 이미지일 경우 설정
                            "src": "img/fire.png", // 경로 설정
                            "width": 100, // 이미지 크기
                            "height": 100
                        }
                    },
                    "opacity": { // 투명도
                        "value": 0.8, // 불투명도 설정 1에 가까울 수록 불투명
                        // 0이면 투명
                        "random": true, // 불투명도를 랜덤하게 설정
                        "anim": { // 애니메이션
                            "enable": false, // 애니메이션을 비활성화 함
                        }
                    },
                    "size": { // 사이즈
                        "value": 10, // 파티클 크기
                        "random": true, // 크기를 랜덤하게 설정
                        "anim": { // 애니메이션
                            "enable": true, // 애니메이션 활성화
                            "speed": 5, // 애니메이션 속도
                            // 숫자가 커질 수록 변화 속도가 빨라짐
                            "size_min": 0.01, // 최소 크기
                            "sync": false // 동기화 여부
                            // true로 하면 모든 파티클의 크기는 동일하게 동기화 됨
                        }
                    },
                    "line_linked": { // 파티클 간 선 연결
                        "enable": false, // 파티클 간 선 연결 비활성화
                    },
                    "move": {
                        "enable": true, // 파티클 이동을 활성화
                        "speed": 15, // 파티클이 이동하는  속도
                        "direction": "top",  // 이동 방향
                        "random": true, // 랜덤이동 활성화
                        "straight": false, // 직선이동 비활성화
                        "out_mode": "out", // 경계를 넘어갈 경우 동작 설정
                        "bounce": false, // 경계에서 튀는 동작 비활성화
                        "attract": { // 파티클 끌림 효과 설정
                            "enable": false, // 끌림효과 비활성화
                        }
                    }
                },
                "interactivity": { 
                    "detect_on": "canvas", // 상호작용을 감지할 요소
                    "events": { 
                        "onhover": { // 마우스 오버 시 이벤트 설정
                            "enable": false, //비활성화
                        },
                        "onclick": {
                            "enable": false,
                        },
                        "resize": true  
                    },
                    "modes": { // 모드
                        "grab": { // 잡기모드 설정
                            "distance": 400, // 거리 설정
                            // 값이 커질 때 마우스 포인터가 파티클과 더 멀리 떨어져 잇어도 상호작용 발생
                            // 값이 작아질 때 마우스 포인터가 파티클에 아주 가까이 접근해야지만 발생
                            "line_linked": { // 연결되는 선 설정
                                "opacity": 0.5 // 선의 불투명도
                            }
                        }
                    }
                },
                "retina_detect": true
            });
        });/* 스크립트 종료 */
    </script>
</head>
<body>
    <div id="wrap">
        <header id="header">
            <div class="header_logo_bar">
                <h1>
                    <a href="#">
                        <img src="img/cont_logo.png" alt="">
                    </a>
                </h1>
    
                <ul>
                    <li class="home_btn header_btn"></li>
                    <li class="youtube_btn header_btn"></li>
                    <li class="instar_btn header_btn"></li>
                </ul>
            </div><!-- header_logo_bar -->

            <div class="nav_bav_list">
                <div class="menu_open"></div>
    
                <nav class="gnb_open">
                    <div class="gnb_title">
                        <img src="img/cont_logo.png" alt="">
                    </div><!-- gnb_title -->
    
                    <ul class="gnb">
                        <li class="depth01">
                            <a href="#">
                                <img src="img/nav_bar01.jpg" alt="">
        
                                <div>
                                    <p>2024<br/>
                                    여름 이벤트</p>
                                </div>
                            </a>
                        </li><!-- depth01 -->
                        <li class="depth01">
                            <a href="#">
                                <img src="img/nav_bar02.jpg" alt="">
        
                                <div>
                                    <p>리마스터<br/>
                                    아란 & 은원</p>
                                </div>
                            </a>
                        </li><!-- depth01 -->
                        <li class="depth01 active">
                            <a href="#">
                                <img src="img/nav_bar03.png" alt="">
        
                                <div>
                                    <p>버닝 이벤트</p>
                                </div>
                            </a>
                        </li><!-- depth01 -->
                        <li class="depth01">
                            <a href="#">
                                <img src="img/nav_bar04.jpg" alt="">
        
                                <div>
                                    <p>기억속<br/>
                                    한 페이지</p>
                                </div>
                            </a>
                        </li><!-- depth01 -->
                    </ul><!-- gnb -->
                </nav>
            </div><!-- nav_bar -->  
        </header><!-- header -->  

        <div id="burning_page">
            <div class="background_img"></div>
            <div class="no_animation">
                <div class="ttl_01"></div>
                <div class="character"></div>
            </div><!-- no_animation -->

            <div class="ttl">
                <div class="title_01 ttl_img"></div>
                <div class="title_02 ttl_img"></div>
                <div class="event_ttl ttl_img"></div>
                <div class="ttl_02 ttl_img"></div>

                <div class="stone stone01"></div>
                <div class="stone stone02"></div>
                <div class="stone stone03"></div>
                <div class="stone stone04"></div>
            </div><!-- ttl -->

            <div class="color_card">
                <div class="red_card card_img">
                    <div class="btn red_btn"></div>
                </div><!-- red_card -->
                <div class="purple_card card_img">
                    <div class="btn purple_btn"></div>
                </div><!-- purple_card -->
                <div class="blue_card card_img">
                    <div class="btn blue_btn01"></div>
                    <div class="btn blue_btn02"></div>
                </div><!-- blue_card -->
            </div><!-- color_card -->

            <div class="bgo__filter">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
                    <defs>
                        <filter id="squiggly-0">
                            <feTurbulence id="turbulence" baseFrequency="0.02" numOctaves="3" result="noise" seed="0"></feTurbulence>
                            <feDisplacementMap id="displacement" in="SourceGraphic" in2="noise" scale="6"></feDisplacementMap>
                        </filter>
                        <filter id="squiggly-1">
                            <feTurbulence id="turbulence" baseFrequency="0.02" numOctaves="3" result="noise" seed="1"></feTurbulence>
                            <feDisplacementMap in="SourceGraphic" in2="noise" scale="10"></feDisplacementMap>
                        </filter>
                        <filter id="squiggly-2">
                            <feTurbulence id="turbulence" baseFrequency="0.02" numOctaves="3" result="noise" seed="2"></feTurbulence>
                            <feDisplacementMap in="SourceGraphic" in2="noise" scale="10"></feDisplacementMap>
                        </filter>
                        <filter id="squiggly-3">
                            <feTurbulence id="turbulence" baseFrequency="0.02" numOctaves="3" result="noise" seed="3"></feTurbulence>
                            <feDisplacementMap in="SourceGraphic" in2="noise" scale="10"></feDisplacementMap>
                        </filter>
                        <filter id="squiggly-4">
                            <feTurbulence id="turbulence" baseFrequency="0.02" numOctaves="3" result="noise" seed="4"></feTurbulence>
                            <feDisplacementMap in="SourceGraphic" in2="noise" scale="10"></feDisplacementMap>
                        </filter>
                    </defs>
                </svg>
            </div>
        </div><!-- burning_page -->

        <div id="particles-js"></div>
    </div><!-- wrap -->
</body>
</html>